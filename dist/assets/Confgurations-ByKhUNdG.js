import{c as bt,r,j as e,l as jt,o as Y,x as ne,w as Nt,P as w,p as C,t as $,m as ge,z as q,a as v,S as Dt,D as Ct,B as yt,y as Tt,X as Rt,g as xe,L as he}from"./index-HP-iplJH.js";import{d as ve,R as wt,h as It,u as Et,F as At,Q as be,C as je,a as Ne,b as De,c as Ce}from"./queryKeys-BQvMjTHe.js";import{u as M,B as D}from"./ApiMutation-BaAjGkoK.js";import{u as ye,L as P,I as B}from"./input-COlUi1zX.js";import{A as G}from"./apiEndpoints-DpVCCeQ4.js";import{T as Te}from"./tableSkeleton-rJUGKhHK.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=bt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);function St(t,n=[]){let s=[];function o(a,l){const d=r.createContext(l),u=s.length;s=[...s,l];function f(p){const{scope:h,children:y,...g}=p,b=h?.[t][u]||d,j=r.useMemo(()=>g,Object.values(g));return e.jsx(b.Provider,{value:j,children:y})}function m(p,h){const y=h?.[t][u]||d,g=r.useContext(y);if(g)return g;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${a}\``)}return f.displayName=a+"Provider",[f,m]}const i=()=>{const a=s.map(l=>r.createContext(l));return function(d){const u=d?.[t]||a;return r.useMemo(()=>({[`__scope${t}`]:{...d,[t]:u}}),[d,u])}};return i.scopeName=t,[o,_t(i,...n)]}function _t(...t){const n=t[0];if(t.length===1)return n;const s=()=>{const o=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=o.reduce((d,{useScope:u,scopeName:f})=>{const p=u(a)[`__scope${f}`];return{...d,...p}},{});return r.useMemo(()=>({[`__scope${n.scopeName}`]:l}),[l])}};return s.scopeName=n.scopeName,s}var Z="rovingFocusGroup.onEntryFocus",Ft={bubbles:!1,cancelable:!0},Q="RovingFocusGroup",[J,we,Pt]=jt(Q),[Ot,Ie]=St(Q,[Pt]),[Bt,Mt]=Ot(Q),Ee=r.forwardRef((t,n)=>e.jsx(J.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(J.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(kt,{...t,ref:n})})}));Ee.displayName=Q;var kt=r.forwardRef((t,n)=>{const{__scopeRovingFocusGroup:s,orientation:o,loop:i=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:u,onEntryFocus:f,preventScrollOnEntryFocus:m=!1,...p}=t,h=r.useRef(null),y=Y(n,h),g=ve(a),[b=null,j]=ne({prop:l,defaultProp:d,onChange:u}),[N,x]=r.useState(!1),A=Nt(f),S=we(s),_=r.useRef(!1),[k,V]=r.useState(0);return r.useEffect(()=>{const c=h.current;if(c)return c.addEventListener(Z,A),()=>c.removeEventListener(Z,A)},[A]),e.jsx(Bt,{scope:s,orientation:o,dir:g,loop:i,currentTabStopId:b,onItemFocus:r.useCallback(c=>j(c),[j]),onItemShiftTab:r.useCallback(()=>x(!0),[]),onFocusableItemAdd:r.useCallback(()=>V(c=>c+1),[]),onFocusableItemRemove:r.useCallback(()=>V(c=>c-1),[]),children:e.jsx(w.div,{tabIndex:N||k===0?-1:0,"data-orientation":o,...p,ref:y,style:{outline:"none",...t.style},onMouseDown:C(t.onMouseDown,()=>{_.current=!0}),onFocus:C(t.onFocus,c=>{const E=!_.current;if(c.target===c.currentTarget&&E&&!N){const me=new CustomEvent(Z,Ft);if(c.currentTarget.dispatchEvent(me),!me.defaultPrevented){const X=S().filter(F=>F.focusable),xt=X.find(F=>F.active),ht=X.find(F=>F.id===b),vt=[xt,ht,...X].filter(Boolean).map(F=>F.ref.current);_e(vt,m)}}_.current=!1}),onBlur:C(t.onBlur,()=>x(!1))})})}),Ae="RovingFocusGroupItem",Se=r.forwardRef((t,n)=>{const{__scopeRovingFocusGroup:s,focusable:o=!0,active:i=!1,tabStopId:a,...l}=t,d=$(),u=a||d,f=Mt(Ae,s),m=f.currentTabStopId===u,p=we(s),{onFocusableItemAdd:h,onFocusableItemRemove:y}=f;return r.useEffect(()=>{if(o)return h(),()=>y()},[o,h,y]),e.jsx(J.ItemSlot,{scope:s,id:u,focusable:o,active:i,children:e.jsx(w.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...l,ref:n,onMouseDown:C(t.onMouseDown,g=>{o?f.onItemFocus(u):g.preventDefault()}),onFocus:C(t.onFocus,()=>f.onItemFocus(u)),onKeyDown:C(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){f.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const b=Lt(g,f.orientation,f.dir);if(b!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let N=p().filter(x=>x.focusable).map(x=>x.ref.current);if(b==="last")N.reverse();else if(b==="prev"||b==="next"){b==="prev"&&N.reverse();const x=N.indexOf(g.currentTarget);N=f.loop?Ut(N,x+1):N.slice(x+1)}setTimeout(()=>_e(N))}})})})});Se.displayName=Ae;var $t={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Gt(t,n){return n!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Lt(t,n,s){const o=Gt(t.key,s);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return $t[o]}function _e(t,n=!1){const s=document.activeElement;for(const o of t)if(o===s||(o.focus({preventScroll:n}),document.activeElement!==s))return}function Ut(t,n){return t.map((s,o)=>t[(n+o)%t.length])}var Ht=Ee,Kt=Se,se="Tabs",[Vt,jn]=ge(se,[Ie]),Fe=Ie(),[Wt,oe]=Vt(se),Pe=r.forwardRef((t,n)=>{const{__scopeTabs:s,value:o,onValueChange:i,defaultValue:a,orientation:l="horizontal",dir:d,activationMode:u="automatic",...f}=t,m=ve(d),[p,h]=ne({prop:o,onChange:i,defaultProp:a});return e.jsx(Wt,{scope:s,baseId:$(),value:p,onValueChange:h,orientation:l,dir:m,activationMode:u,children:e.jsx(w.div,{dir:m,"data-orientation":l,...f,ref:n})})});Pe.displayName=se;var Oe="TabsList",Be=r.forwardRef((t,n)=>{const{__scopeTabs:s,loop:o=!0,...i}=t,a=oe(Oe,s),l=Fe(s);return e.jsx(Ht,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:o,children:e.jsx(w.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:n})})});Be.displayName=Oe;var Me="TabsTrigger",ke=r.forwardRef((t,n)=>{const{__scopeTabs:s,value:o,disabled:i=!1,...a}=t,l=oe(Me,s),d=Fe(s),u=Le(l.baseId,o),f=Ue(l.baseId,o),m=o===l.value;return e.jsx(Kt,{asChild:!0,...d,focusable:!i,active:m,children:e.jsx(w.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...a,ref:n,onMouseDown:C(t.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?l.onValueChange(o):p.preventDefault()}),onKeyDown:C(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&l.onValueChange(o)}),onFocus:C(t.onFocus,()=>{const p=l.activationMode!=="manual";!m&&!i&&p&&l.onValueChange(o)})})})});ke.displayName=Me;var $e="TabsContent",Ge=r.forwardRef((t,n)=>{const{__scopeTabs:s,value:o,forceMount:i,children:a,...l}=t,d=oe($e,s),u=Le(d.baseId,o),f=Ue(d.baseId,o),m=o===d.value,p=r.useRef(m);return r.useEffect(()=>{const h=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(h)},[]),e.jsx(q,{present:i||m,children:({present:h})=>e.jsx(w.div,{"data-state":m?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":u,hidden:!h,id:f,tabIndex:0,...l,ref:n,style:{...t.style,animationDuration:p.current?"0s":void 0},children:h&&a})})});Ge.displayName=$e;function Le(t,n){return`${t}-trigger-${n}`}function Ue(t,n){return`${t}-content-${n}`}var zt=Pe,He=Be,Ke=ke,Ve=Ge;const Yt=zt,We=r.forwardRef(({className:t,...n},s)=>e.jsx(He,{ref:s,className:v("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...n}));We.displayName=He.displayName;const ee=r.forwardRef(({className:t,...n},s)=>e.jsx(Ke,{ref:s,className:v("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...n}));ee.displayName=Ke.displayName;const te=r.forwardRef(({className:t,...n},s)=>e.jsx(Ve,{ref:s,className:v("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...n}));te.displayName=Ve.displayName;const re=r.forwardRef(({className:t,...n},s)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:s,className:v("w-full caption-bottom text-sm",t),...n})}));re.displayName="Table";const ae=r.forwardRef(({className:t,...n},s)=>e.jsx("thead",{ref:s,className:v("[&_tr]:border-b",t),...n}));ae.displayName="TableHeader";const ie=r.forwardRef(({className:t,...n},s)=>e.jsx("tbody",{ref:s,className:v("[&_tr:last-child]:border-0",t),...n}));ie.displayName="TableBody";const qt=r.forwardRef(({className:t,...n},s)=>e.jsx("tfoot",{ref:s,className:v("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...n}));qt.displayName="TableFooter";const L=r.forwardRef(({className:t,...n},s)=>e.jsx("tr",{ref:s,className:v("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...n}));L.displayName="TableRow";const T=r.forwardRef(({className:t,...n},s)=>e.jsx("th",{ref:s,className:v("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...n}));T.displayName="TableHead";const R=r.forwardRef(({className:t,...n},s)=>e.jsx("td",{ref:s,className:v("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...n}));R.displayName="TableCell";const Qt=r.forwardRef(({className:t,...n},s)=>e.jsx("caption",{ref:s,className:v("mt-4 text-sm text-muted-foreground",t),...n}));Qt.displayName="TableCaption";var ce="Dialog",[ze,Nn]=ge(ce),[Xt,I]=ze(ce),Ye=t=>{const{__scopeDialog:n,children:s,open:o,defaultOpen:i,onOpenChange:a,modal:l=!0}=t,d=r.useRef(null),u=r.useRef(null),[f=!1,m]=ne({prop:o,defaultProp:i,onChange:a});return e.jsx(Xt,{scope:n,triggerRef:d,contentRef:u,contentId:$(),titleId:$(),descriptionId:$(),open:f,onOpenChange:m,onOpenToggle:r.useCallback(()=>m(p=>!p),[m]),modal:l,children:s})};Ye.displayName=ce;var qe="DialogTrigger",Qe=r.forwardRef((t,n)=>{const{__scopeDialog:s,...o}=t,i=I(qe,s),a=Y(n,i.triggerRef);return e.jsx(w.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":ue(i.open),...o,ref:a,onClick:C(t.onClick,i.onOpenToggle)})});Qe.displayName=qe;var le="DialogPortal",[Zt,Xe]=ze(le,{forceMount:void 0}),Ze=t=>{const{__scopeDialog:n,forceMount:s,children:o,container:i}=t,a=I(le,n);return e.jsx(Zt,{scope:n,forceMount:s,children:r.Children.map(o,l=>e.jsx(q,{present:s||a.open,children:e.jsx(Tt,{asChild:!0,container:i,children:l})}))})};Ze.displayName=le;var W="DialogOverlay",Je=r.forwardRef((t,n)=>{const s=Xe(W,t.__scopeDialog),{forceMount:o=s.forceMount,...i}=t,a=I(W,t.__scopeDialog);return a.modal?e.jsx(q,{present:o||a.open,children:e.jsx(Jt,{...i,ref:n})}):null});Je.displayName=W;var Jt=r.forwardRef((t,n)=>{const{__scopeDialog:s,...o}=t,i=I(W,s);return e.jsx(wt,{as:Dt,allowPinchZoom:!0,shards:[i.contentRef],children:e.jsx(w.div,{"data-state":ue(i.open),...o,ref:n,style:{pointerEvents:"auto",...o.style}})})}),O="DialogContent",et=r.forwardRef((t,n)=>{const s=Xe(O,t.__scopeDialog),{forceMount:o=s.forceMount,...i}=t,a=I(O,t.__scopeDialog);return e.jsx(q,{present:o||a.open,children:a.modal?e.jsx(en,{...i,ref:n}):e.jsx(tn,{...i,ref:n})})});et.displayName=O;var en=r.forwardRef((t,n)=>{const s=I(O,t.__scopeDialog),o=r.useRef(null),i=Y(n,s.contentRef,o);return r.useEffect(()=>{const a=o.current;if(a)return It(a)},[]),e.jsx(tt,{...t,ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:C(t.onCloseAutoFocus,a=>{a.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:C(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0;(l.button===2||d)&&a.preventDefault()}),onFocusOutside:C(t.onFocusOutside,a=>a.preventDefault())})}),tn=r.forwardRef((t,n)=>{const s=I(O,t.__scopeDialog),o=r.useRef(!1),i=r.useRef(!1);return e.jsx(tt,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(o.current||s.triggerRef.current?.focus(),a.preventDefault()),o.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(o.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;s.triggerRef.current?.contains(l)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),tt=r.forwardRef((t,n)=>{const{__scopeDialog:s,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:a,...l}=t,d=I(O,s),u=r.useRef(null),f=Y(n,u);return Et(),e.jsxs(e.Fragment,{children:[e.jsx(At,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:a,children:e.jsx(Ct,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":ue(d.open),...l,ref:f,onDismiss:()=>d.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(nn,{titleId:d.titleId}),e.jsx(on,{contentRef:u,descriptionId:d.descriptionId})]})]})}),de="DialogTitle",nt=r.forwardRef((t,n)=>{const{__scopeDialog:s,...o}=t,i=I(de,s);return e.jsx(w.h2,{id:i.titleId,...o,ref:n})});nt.displayName=de;var st="DialogDescription",ot=r.forwardRef((t,n)=>{const{__scopeDialog:s,...o}=t,i=I(st,s);return e.jsx(w.p,{id:i.descriptionId,...o,ref:n})});ot.displayName=st;var rt="DialogClose",at=r.forwardRef((t,n)=>{const{__scopeDialog:s,...o}=t,i=I(rt,s);return e.jsx(w.button,{type:"button",...o,ref:n,onClick:C(t.onClick,()=>i.onOpenChange(!1))})});at.displayName=rt;function ue(t){return t?"open":"closed"}var it="DialogTitleWarning",[Dn,ct]=yt(it,{contentName:O,titleName:de,docsSlug:"dialog"}),nn=({titleId:t})=>{const n=ct(it),s=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return r.useEffect(()=>{t&&(document.getElementById(t)||console.error(s))},[s,t]),null},sn="DialogDescriptionWarning",on=({contentRef:t,descriptionId:n})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ct(sn).contentName}}.`;return r.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");n&&i&&(document.getElementById(n)||console.warn(o))},[o,t,n]),null},rn=Ye,an=Qe,cn=Ze,lt=Je,dt=et,ut=nt,ft=ot,ln=at;const z=rn,pt=an,dn=cn,mt=r.forwardRef(({className:t,...n},s)=>e.jsx(lt,{ref:s,className:v("fixed inset-0 z-50 bg-black/50 backdrop-blur-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n}));mt.displayName=lt.displayName;const U=r.forwardRef(({className:t,children:n,...s},o)=>e.jsxs(dn,{children:[e.jsx(mt,{}),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-8 overflow-y-auto",children:e.jsxs(dt,{ref:o,className:v("relative max-h-full w-full max-w-2xl bg-background border rounded-lg shadow-lg p-6 overflow-y-auto",t),...s,children:[n,e.jsxs(ln,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Rt,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})})]}));U.displayName=dt.displayName;const H=({className:t,...n})=>e.jsx("div",{className:v("flex flex-col space-y-1.5 text-center sm:text-left",t),...n});H.displayName="DialogHeader";const fe=({className:t,...n})=>e.jsx("div",{className:v("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n});fe.displayName="DialogFooter";const K=r.forwardRef(({className:t,...n},s)=>e.jsx(ut,{ref:s,className:v("text-lg font-semibold leading-none tracking-tight",t),...n}));K.displayName=ut.displayName;const pe=r.forwardRef(({className:t,...n},s)=>e.jsx(ft,{ref:s,className:v("text-sm text-muted-foreground",t),...n}));pe.displayName=ft.displayName;const un=()=>{const[t,n]=r.useState(!1),[s,o]=r.useState(null),[i,a]=r.useState(!1),{data:l,isPending:d,isRefetching:u,refetch:f}=xe(be.GET_ALL_BRANCH,{retry:0}),{mutate:m,isPending:p}=M("post","api/clinics"),{mutate:h,isPending:y}=M("put",G.BRANCH.UPDATE_BRANCH(s?.id)),{mutate:g,isPending:b}=M("delete",G.BRANCH.DELETE_BRANCH),{register:j,handleSubmit:N,reset:x,formState:{isSubmitting:A}}=ye({defaultValues:{name:"",address:"",phoneNumber:null,email:""}}),S=()=>{n(!1),x(),o(null)};r.useEffect(()=>{t||(x(),o(null))},[t,x]);const _=c=>{const E={name:c.name,address:c.address,contact:c.phoneNumber};s?h(c,{onSuccess:()=>{n(!1),f(),x()}}):m(E,{})},k=c=>{g({id:c.id},{onSuccess:()=>{a(!1),f(),o(null)}})};return[p,y,b].some(Boolean)?e.jsx(he,{}):e.jsxs(e.Fragment,{children:[e.jsxs(je,{children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx(De,{children:"Branch Table"}),e.jsxs(z,{open:t,onOpenChange:c=>{c||S()},children:[e.jsx(pt,{asChild:!0,children:e.jsxs(D,{className:"bg-gradient-primary shadow-md hover:shadow-lg transition-all",onClick:()=>{n(!0),x({name:"",address:""})},children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),"Add Branch"]})}),e.jsxs(U,{children:[e.jsx(H,{children:e.jsx(K,{children:s?"Edit Branch":"Add Branch"})}),e.jsxs("form",{onSubmit:N(_),children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{htmlFor:"name",children:"Branch Name *"}),e.jsx(B,{id:"name",placeholder:"Enter branch name",...j("name")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{htmlFor:"email",children:"Email *"}),e.jsx(B,{id:"email",placeholder:"Enter email",...j("email")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{htmlFor:"phoneNumber",children:"Contact Number *"}),e.jsx(B,{type:"number",id:"phoneNumber",placeholder:"Enter phoneNumber",...j("phoneNumber")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{htmlFor:"address",children:"Address *"}),e.jsx(B,{id:"address",placeholder:"Enter address",...j("address")})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(D,{type:"button",variant:"outline",onClick:S,children:"Cancel"}),e.jsx(D,{type:"submit",className:"bg-gradient-primary",children:A?s?"Updating Branch...":"Adding Branch...":s?"Update Branch":"Add Branch"})]})]})]})]})]})}),e.jsx(Ce,{children:d||u?e.jsx(Te,{rows:4,columns:7}):l?.data?.length?e.jsxs(re,{children:[e.jsx(ae,{children:e.jsxs(L,{children:[e.jsx(T,{children:"S.No"}),e.jsx(T,{children:"Name"}),e.jsx(T,{children:"Contact"}),e.jsx(T,{children:"Email"}),e.jsx(T,{children:"Address"}),e.jsx(T,{className:"text-right",children:"Actions"})]})}),e.jsx(ie,{children:l?.data.map((c,E)=>e.jsxs(L,{children:[e.jsx(R,{children:E+1}),e.jsx(R,{children:c.name}),e.jsx(R,{children:c.phoneNumber}),e.jsx(R,{children:c.email}),e.jsx(R,{children:c.address}),e.jsxs(R,{className:"text-right space-x-2",children:[e.jsx(D,{size:"sm",variant:"outline",onClick:()=>{o(c),n(!0),x({name:c.name,address:c.address,phoneNumber:c.phoneNumber,email:c.email})},children:"Edit"}),e.jsx(D,{size:"sm",variant:"destructive",onClick:()=>{o(c),a(!0)},children:"Delete"})]})]},c.id))})]}):e.jsx("p",{className:"text-muted-foreground text-center",children:"No data found"})})]}),e.jsx(z,{open:i,onOpenChange:a,children:e.jsxs(U,{children:[e.jsxs(H,{children:[e.jsx(K,{children:"Confirm Remove"}),e.jsx(pe,{children:"Are you sure you want to remove this branch?"})]}),e.jsxs(fe,{children:[e.jsx(D,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),e.jsx(D,{variant:"destructive",onClick:()=>{s&&k(s)},children:b?" Removing....":"Yes, Remove"})]})]})})]})},gt=r.forwardRef(({className:t,...n},s)=>e.jsx("textarea",{className:v("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...n}));gt.displayName="Textarea";const fn=()=>{const[t,n]=r.useState(!1),[s,o]=r.useState(null),[i,a]=r.useState(!1),{data:l,isPending:d,refetch:u,isRefetching:f}=xe(be.GET_CONFIGURATION_DISCOUNT,{retry:0}),{mutate:m,isPending:p}=M("post",G.DISCOUNT.ADD_DISCOUNT),{mutate:h,isPending:y}=M("put",G.DISCOUNT.UPDATE_DISCOUNT(s?.id)),{mutate:g,isPending:b}=M("delete",G.DISCOUNT.DELETE_DISCOUNT),{register:j,handleSubmit:N,reset:x,formState:{isSubmitting:A}}=ye({defaultValues:{name:"",description:"",percentage:null}});r.useEffect(()=>{t||(x(),o(null))},[t,x]);const S=()=>{n(!1),x(),o(null)},_=c=>{const E={name:c.name,description:c.description,percentage:Number(c.percentage)};s?h(c,{onSuccess:()=>{n(!1),u(),x(),o(null)}}):m(E,{onSuccess:()=>{n(!1),u(),x()}})},k=c=>{g({id:c.id},{onSuccess:()=>{a(!1),u(),o(null)}})};return[p,b,y].some(Boolean)?e.jsx(he,{}):e.jsxs(e.Fragment,{children:[e.jsxs(je,{children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx(De,{children:"Discounts Table"}),e.jsxs(z,{open:t,onOpenChange:c=>{c||S()},children:[e.jsx(pt,{asChild:!0,children:e.jsxs(D,{className:"bg-gradient-primary shadow-md hover:shadow-lg transition-all",onClick:()=>{n(!0)},children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),"Add Discount"]})}),e.jsxs(U,{children:[e.jsx(H,{children:e.jsx(K,{children:s?"Edit Discount":"Add Discount"})}),e.jsxs("form",{onSubmit:N(_),children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{htmlFor:"name",children:"Discount Name *"}),e.jsx(B,{id:"name",placeholder:"Enter discount name",...j("name")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{htmlFor:"percentage",children:"Percentage *"}),e.jsx(B,{type:"number",id:"percentage",placeholder:"Enter discount %",...j("percentage")})]}),e.jsxs("div",{className:"space-y-2 col-span-4",children:[e.jsx(P,{htmlFor:"description",children:"Description *"}),e.jsx(gt,{id:"description",placeholder:"Write description",...j("description")})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(D,{type:"button",variant:"outline",onClick:S,children:"Cancel"}),e.jsx(D,{type:"submit",className:"bg-gradient-primary",children:A?s?"Updating Discount...":"Adding Discount...":s?"Update Discount":"Add Discount"})]})]})]})]})]})}),e.jsx(Ce,{children:d||f?e.jsx(Te,{rows:4,columns:7}):l?.data?.length?e.jsxs(re,{children:[e.jsx(ae,{children:e.jsxs(L,{children:[e.jsx(T,{children:"S.No"}),e.jsx(T,{children:"Name"}),e.jsx(T,{children:"Percentage"}),e.jsx(T,{children:"Description"}),e.jsx(T,{className:"text-right",children:"Actions"})]})}),e.jsx(ie,{children:l?.data?.map((c,E)=>e.jsxs(L,{children:[e.jsx(R,{children:E+1}),e.jsx(R,{children:c.name}),e.jsxs(R,{children:[c.percentage,"%"]}),e.jsx(R,{children:c.description}),e.jsxs(R,{className:"text-right space-x-2",children:[e.jsx(D,{size:"sm",variant:"outline",onClick:()=>{o(c),n(!0),x({name:c.name,description:c.description,percentage:c.percentage})},children:"Edit"}),e.jsx(D,{size:"sm",variant:"destructive",onClick:()=>{o(c),a(!0)},children:"Delete"})]})]},c.id))})]}):e.jsx("p",{className:"text-muted-foreground text-center",children:"No data found"})})]}),e.jsx(z,{open:i,onOpenChange:a,children:e.jsxs(U,{children:[e.jsxs(H,{children:[e.jsx(K,{children:"Confirm Remove"}),e.jsx(pe,{children:"Are you sure you want to remove this discount?"})]}),e.jsxs(fe,{children:[e.jsx(D,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),e.jsx(D,{variant:"destructive",onClick:()=>{s&&k(s)},children:"yes, Remove"})]})]})})]})},Cn=()=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Configurations"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage your business branches and discount settings from one place."})]}),e.jsxs(Yt,{defaultValue:"branches",className:"w-full",children:[e.jsxs(We,{children:[e.jsx(ee,{value:"branches",children:"Branches"}),e.jsx(ee,{value:"discounts",children:"Discounts"})]}),e.jsx(te,{value:"branches",children:e.jsx(un,{})}),e.jsx(te,{value:"discounts",children:e.jsx(fn,{})})]})]})});export{Cn as default};
